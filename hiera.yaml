<<<<<<< HEAD
# managed by puppet
---
 version: 5
 defaults:
  datadir: data
  data_hash: yaml_data

 hierarchy:
- name: "Nodes"
   backend: yaml
    paths: 
      - "nodes/%{::trusted.certname}"
      - "%{environment}/%{calling_modules}"
      - "%{environment}/%{calling_class}"
      - "%{environment}/%{role}"
      - "%{role}"
      - "%{role}/%{::profile}"
      - "%{profile}"
      - "%{environment}"
      - "%{fqdn}"

- name: "Exported JSON nodess"
   backend: json
    paths:  
      - "nodes/%{::trusted.certname}"
      - "insecure_nodess/%{facts.fqdn}"


- name: "Eysml ( encryption )
   backend: eyaml
    paths:
      - "nodes/%{::trusted.certname}"
      - "%{environment}/%{calling_modules}"
      - "%{environment}/%{calling_class}"
      - "%{environment}/%{role}"
      - "%{role}"
      - "%{role}/%{::profile}"
      - "%{profile}"
      - "%{environment}"
      - "%{fqdn}"

     :pkcs7_private_key: /etc/puppetlabs/code/environments/%(environment)/hieradata/secure/keys/private_key.pkcs7.pem

     :pkcs7_public_key: /etc/puppetlabs/code/environments/%(environment)/hieradata/secure/keys/public_key.pkcs7.pem

        name: "global"
        backend: yaml

        name: "secure"
        backend: yaml

        name" "common" 
        backend: yaml
=======
---
version: 5
defaults:
  # The default value for "datadir" is "data" under the same directory as the hiera.yaml
  # file (this file)
  # When specifying a datadir, make sure the directory exists.
  # See https://docs.puppet.com/puppet/latest/environments.html for further details on environments.
  # datadir: data
  # data_hash: yaml_data
hierarchy:
  - name: "Per-node data (yaml version)"
    path: "nodes/%{::trusted.certname}.yaml"
  - name: "Other YAML hierarchy levels"
    paths:
      - "common.yaml"
>>>>>>> 441c105de443895c17c7bc1715b066816c316420
